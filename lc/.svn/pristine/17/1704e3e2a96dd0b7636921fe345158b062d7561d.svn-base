<!doctype html>
<html ng-app="myapp">
<head>
    <meta charset="UTF-8">
    <title>公司列表</title>
    <!--- ES5兼容库 --->
    <script src="http://cdn.bootcss.com/es5-shim/4.0.5/es5-shim.min.js"></script>

    <!--- JQuery --->
    <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
    <link  href="http://cdn.bootcss.com/jqueryui/1.11.1/jquery-ui.min.css" rel="stylesheet">
    <script src="http://cdn.bootcss.com/jqueryui/1.10.2/jquery-ui.min.js"></script>

    <!--- bootstrap --->
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="http://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <!--- angularJS --->
    <script src="http://cdn.bootcss.com/angular.js/1.4.4/angular.min.js"></script>
    <script src="http://cdn.bootcss.com/angular-ui-bootstrap/1.3.3/ui-bootstrap.min.js"></script>
    <script src="http://cdn.bootcss.com/angular-ui-bootstrap/1.3.3/ui-bootstrap-tpls.min.js"></script>

    <!--- 自定义文件 --->
    <link href="/css/zh-msg.css" rel="stylesheet">

    <!--- 后台公共样式表 --->
    <link href="/admin/css/style.css" rel="stylesheet">

    <script src="/js/utils.js"></script>
    <script src="/js/syzxModule.js"></script>

</head>
<body ng-controller="mainCtrl" class="white-bg" style="overflow: hidden;padding:20px;">
    <div class="animated fadeInRight">
        <div class="inquiry-btns">
            <button ng-click="add()" class="btn btn-default"><i class="glyphicon glyphicon-plus"></i>新增</button>
            <button ng-click="del()" class="btn btn-danger"><i class="glyphicon glyphicon-trash"></i>删除</button>
            <button ng-click="refresh()" class="btn btn-info"><i class="glyphicon glyphicon-refresh"></i>刷新</button>
            <div class="input-group common-input-group">
                <input type="text" class="form-control search" ng-model="Name" onkeydown="if(event.keyCode == 13) search.click()" placeholder="按Enter键搜索">
                <span class="input-group-btn"><button ng-click="search()" id="search" class="btn btn-success">搜索</button></span>
            </div>
        </div>
        <ul class="pagination page-ul"
            uib-pagination
            boundary-links="true"
            previous-text="<"
            next-text=">"
            first-text="|<"
            last-text=">|"
            ng-change="pageChange();"
            ng-model="currentPage"
            force-ellipses="true"
            rotate="true"
            items-per-page="{# $ROWS_PER_PAGE #}"
            max-size="5"
            total-items="{# $conpanyNum #}"
        ></ul>
    </div>
    
    <table class="datalist">
        <thead><tr>
            <td width="50">序号</td>
            <td width="30" ng-click="selectAll" title="选择全部/取消全部"><img src="/admin/images/checkbox.gif" ></td>
            <td width="80">公司名称</td>
            <td width="100">公司地址</td>
            <td width="80">客户类型</td>
            <td width="100">组织机构代码</td>
            <td width="100">认证状态</td>
        </tr></thead>
        <tbody><tr ng-repeat="item in list track by $index" ng-click="show(item.ID,$event)">
            <td align="center">{{item.ID}}</td>
            <td align="center"><input type="checkbox" ng-check="item.Checked ==1" ng-model="item.Checked"></td>
            <td align="center">{{item.ID}}</td>
            <td align="center">{{item.ID}}</td>
            <td align="center">{{item.ID}}</td>
            <td align="center">{{item.ID}}</td>
            <td align="center">{{item.ID}}</td>
        </tr></tbody>
    </table>
</body>
<script>
    var APP = angular.module("myapp",["ui.bootstrap","ngAnimate","utils","syzx"]);
    APP.controller("mainCtrl",function($scope)
    {
        //获取指定页面
        $scope.pageChange = function()
        {   isSelectAll = false;
            getURL("/admin/company/getCompanies?page="+$scope.pageChange).then(function(data)
            {
                $scope.list = data;
            })
        }
    })
</script>
</html>