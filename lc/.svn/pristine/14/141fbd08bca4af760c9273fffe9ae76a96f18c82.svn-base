<?php
include_once(APP_PATH . "/utils/Utils.php");
include_once(APP_PATH . "/utils/ResponseResult.php");
include_once(MODELS_PATH . "/admin/Port.php");
class PortController extends APIBaseController
{
//	public function indexAction()
//	{
//		if(!IsSet($_GET["ID"]) || !Is_Numeric($_GET["ID"]))
//		{	$result = new ResponseResult(false,"参数有误");
//			echo $result->AsJSon();
//			return;
//		}
//		$ret = Port::getonePort($_GET["ID"]);
//		print_r($ret);
//	}

	public function saveAction()
	{
		//print_r($_POST);
        if($_POST["oper"]=='add'){
            //插入
            $ret = Port::insertPort(
                $_POST["PortName"],
                $_POST["Spell"],
                $_POST["ShortSpell"],
                $_POST["FirstLetter"],
                $_POST["RegionId"],
                $_POST["Description"]
            );
        }else if($_POST["oper"]=='edit'){
            //修改
			$_POST["ID"]=$_POST["id"];
            $ret = Port::updatePort(
                $_POST["ID"],
                $_POST["PortName"],
                $_POST["Spell"],
                $_POST["ShortSpell"],
                $_POST["FirstLetter"],
                $_POST["RegionId"],
                $_POST["Description"]
            );
        }else if($_POST["oper"]=='del'){
            //删除
            $ret = Port::deletePort(
              $_POST["id"]
            );
        }else{
            return null;
        };
	}
}
?>